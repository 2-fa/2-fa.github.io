<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infobip 2-fa HTTP API</title>
<link rel="stylesheet" href="https://stackedit.io/res-min/themes/base.css" />
<link rel="stylesheet" href="stylesheets/styles.css"/>
<link rel="icon" href="/favicon.ico" />
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="topdiv">
  <img src="img/infobip_logo.png"/> 
  <div id="top2fa">2-factor authentication</div>
</div>
  <div class="container"><h1 id="infobip-2-factor-authentication-api">Infobip 2-factor authentication HTTP API</h1>

<h2 id="base-url">Base URL</h2>

<p>You should submit all requests to the base URL. All the requests are submitted thorough HTTP <code>POST</code>, <code>PUT</code> or <code>GET</code> method. Although you can use HTTP protocol, we strongly recommend you to submit all requests to Infobip SMS API over HTTPS so the traffic is encrypted and the privacy is ensured.</p>

<p><strong>Base URL:  <code>https://oneapi.infobip.com/2fa</code></strong></p>

<h2 id="authorization">Authorization</h2>

<p>In order to use Infobip 2-FA API, you have to be authorized. We support two types of authorization:</p>

<ul>
<li><a href="#basic-authorization">Basic authorization</a> used for <a href="#service-configuration">service configuration</a></li>
<li><a href="#api-key-authorization">API key authorization</a> used for <a href="#client-side-methods">client side methods</a></li>
</ul>

<h3 id="basic-authorization">Basic authorization</h3>

<p>We support the Basic authorization with username and password using Base64 encoding variation RFC2045-MIME</p>

<p>The Authorization header is constructed as follows:</p>

<ol>
<li>Username and password are combined into a string <code>username:password</code>.</li>
<li>The resulting string is encoded using the RFC2045-MIME variant of Base64.</li>
<li>The authorization method and a space <code>"Basic "</code> are put before the encoded string.</li>
</ol>

<blockquote>
  <p><strong>Example:</strong></p>
  
  <p><em>Username:</em> Aladdin <br>
  <em>Password:</em> open sesame </p>
  
  <p><strong>Authorization:</strong> Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==</p>
</blockquote>

<h3 id="api-key-authorization">API key authorization</h3>

<p>In order to use a client side methods, you need a valid Infobip API key. </p>

<p>If you donâ€™t have an API key, you can create one using a <a href="#api-key">Generate API key method</a>.  When you receive your API key, you should put it in the header after the authorization method and space i.e. <code>"App "</code>.</p>

<blockquote>
  <p><strong>Example:</strong></p>
  
  <p><em>API key:</em> e78d84e20207873482d160c1144f7d08-59304bb3-11fa</p>
  
  <p><strong>Authorization:</strong> App e78d84e20207873482d160c1144f7d08-59304bb3-11fa</p>
</blockquote>

<h2 id="step-by-step-integration">Step by step integration</h2>

<ol>
<li><p><strong><a href="#service-configuration">Service configuration</a></strong> <br>
 a. Create and configure your 2FA application <br>
 b. Create and configure your 2FA message <br>
 c. Generate your API key in order to use Client side methods</p></li>
<li><p><strong><a href="#client-side-methods">Client side methods</a></strong> <br>
 a. Generate and send PIN code <br>
 b. Verify PIN code <br>
 c. Resend PIN code <br>
 d. Get PIN code status</p>

<blockquote>
  <p><strong>Note:</strong> <br>
  You can also <strong>get</strong> and <strong>update</strong> all your 2FA <a href="#application">applications</a> and <a href="#message">messages</a>.</p>
</blockquote></li>
</ol>



<h3 id="application-configuration-details">Application configuration details</h3>



<h4 id="pin-time-to-live"><strong>PIN Time To Live</strong></h4>

<p>PIN time to live represents how long the PIN will be active after it is generated. Within this time frame PIN could be verified. After PIN time to live expires, verification will not be possible. The old PIN will be discarded and the new one should be required. </p>

<p><em>Default value:</em> <strong>900.000 milliseconds</strong> (15 minutes)</p>

<blockquote>
  <p><strong><em>Example:</em></strong> Client sets PIN time to live to 45 seconds. If user tries to verify PIN after 50 seconds, the error will occur because PIN time to live has expired. In order to proceed further, the new PIN should be required. </p>
</blockquote>



<h4 id="pin-attempts"><strong>PIN Attempts</strong></h4>

<p>PIN attempts represents the number of overall PIN verification requests for one application (service) from one phone number (MSISDN) regardless time interval. If the overall PIN attempts are exceeded, verification will not be possible. The old PIN will be discarded and the new one should be required.</p>

<p><em>Default value:</em> <strong>10</strong></p>

<blockquote>
  <p><strong><em>Example:</em></strong> Client sets PIN attempts to 3. The user enters wrong PIN for 3 times. With the forth attempt he tries to verify the correct PIN, verification will not be possible because PIN attempts are exceeded. In order to proceed  further, the new PIN should be required. </p>
</blockquote>



<h4 id="verification-attempts"><strong>Verification Attempts</strong></h4>

<p>Verification attempts represents the number of PIN verification requests from one phone number (MSISDN) in a defined verification time interval. If the repeated PIN verification is required before the time interval expires, verification will not be possible. It is necessary that defined verification time interval expires so the PIN verification attempt could be required for the second time. </p>

<p><em>Default value:</em> <strong>1</strong></p>

<blockquote>
  <p><strong><em>Example:</em></strong> Client sets the Verification attempts to 1 and the verification time interval to 3 seconds (explained in the next step). User can try to verify the PIN only once in a 3 seconds from one phone number (MSISDN). </p>
</blockquote>



<h4 id="verification-interval-length"><strong>Verification Interval Length</strong></h4>

<p>Verification interval length represent a defined time interval in which there can be no multiple (or whatever <em>Verification Attempts</em> is set to) PIN verification attempts. If the repeated PIN verification is requested before the time interval expires, verification will not be possible. It is necessary that defined verification time interval expires so the PIN verification attempt could be processed next time. </p>

<p><em>Default value:</em> <strong>3.000 milliseconds</strong> (3 seconds)</p>

<blockquote>
  <p><strong><em>Example:</em></strong> Client sets Verification attempts to 1 and the verification time interval to 3 seconds. User can try to verify the PIN only once in a 3 seconds from one phone number (MSISDN).</p>
</blockquote>



<h4 id="initiation-attempts"><strong>Initiation Attempts</strong></h4>

<p>Initiation attempts represents the number of requests for generating a PIN and sending an SMS to one phone number (MSISDN) in a defined time interval. If the PIN generation requests from one phone number exceed the initiation attempts for defined time interval, further initiation requests will not be processed. It is necessary that defined time interval expires so the new PIN generation request and SMS sending could be performed.</p>

<p><em>Default value:</em> <strong>3</strong></p>

<blockquote>
  <p><strong><em>Example:</em></strong> Client sets the Initiation attempts to 3 and the time interval to 1 day (explained in the next step). User can require a PIN generation and receiving of an SMS on one phone number max 3 times in one day. </p>
</blockquote>



<h4 id="initiation-interval-length"><strong>Initiation Interval Length</strong></h4>

<p>Initiation interval length represents a time interval in which a defined number of initiation attempts for one phone number (MSISDN) can be realized. If the PIN generation requests from one phone number exceed the initiation attempts for defined time interval, initiation attempts will not be processed. It is necessary that defined time interval expires so the new PIN generation request and sending SMS could be performed.</p>

<p><em>Default value:</em> <strong>86.400.000 milliseconds</strong> (1 day)</p>

<blockquote>
  <p><strong><em>Example:</em></strong> Client sets the Initiation attempts to 3 and the Initiation interval length to 1 day. User can request PIN generation and receiving of SMS containing it, for one phone number, maximum 3 times in one day. </p>
</blockquote>



<h1 id="api-endpoint-reference-list">API endpoint reference list</h1>



<h2 id="service-configuration">Service configuration</h2>



<h3 id="application">Application</h3>

<table>
<thead>
<tr>
  <th>Method</th>
  <th>Endpoint</th>
  <th>Usage</th>
  <th>Returns</th>
  <th>Authorization</th>
</tr>
</thead>
<tbody><tr>
  <td>POST</td>
  <td><a href="#create-application">/1/applications</a></td>
  <td><a href="#create-application">Create an application</a></td>
  <td><a href="#application-response-body-parameters">application</a></td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
<tr>
  <td>PUT</td>
  <td><a href="#update-application">/1/applications/{applicationId}</a></td>
  <td><a href="#update-application">Update an application</a></td>
  <td><a href="#application-response-body-parameters">application</a></td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
<tr>
  <td>GET</td>
  <td><a href="#get-applications">/1/applications</a></td>
  <td><a href="#get-applications">Get all applications</a></td>
  <td><a href="#application-response-body-parameters">application array</a></td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
<tr>
  <td>GET</td>
  <td><a href="#get-applications">/1/applications/{applicationId}</a></td>
  <td><a href="#get-applications">Get an application by ID</a></td>
  <td><a href="#application-response-body-parameters">application</a></td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
</tbody></table>




<h3 id="message">Message</h3>

<table>
<thead>
<tr>
  <th>Method</th>
  <th>Endpoint</th>
  <th>Usage</th>
  <th>Returns</th>
  <th>Authorization</th>
</tr>
</thead>
<tbody><tr>
  <td>POST</td>
  <td><a href="#create-a-message">/1/applications/{applicationId}/messages</a></td>
  <td><a href="#create-a-message">Create a message</a></td>
  <td><a href="#message-response-body-parameters">message</a></td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
<tr>
  <td>PUT</td>
  <td><a href="#update-a-message">/1/applications/{applicationId}/messages/{messageId}</a></td>
  <td><a href="#update-a-message">Update a message</a></td>
  <td><a href="#message-response-body-parameters">message</a></td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
<tr>
  <td>GET</td>
  <td><a href="#get-messages">/1/applications/{applicationId}/messages</a></td>
  <td><a href="#get-messages">Get all messages</a></td>
  <td><a href="#message-response-body-parameters">message array</a></td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
<tr>
  <td>GET</td>
  <td><a href="#get-messages">/1/applications/{applicationId}/messages/{messageId}</a></td>
  <td><a href="#get-messages">Get a message by ID</a></td>
  <td><a href="#message-response-body-parameters">message</a></td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
</tbody></table>




<h3 id="api-key">API key</h3>

<table>
<thead>
<tr>
  <th>Method</th>
  <th>Endpoint</th>
  <th>Usage</th>
  <th>Returns</th>
  <th>Authorization</th>
</tr>
</thead>
<tbody><tr>
  <td>POST</td>
  <td><a href="#generate-an-api-key">/1/api-key</a></td>
  <td><a href="#generate-an-api-key">Generate an API key</a></td>
  <td>apiKey</td>
  <td><a href="#basic-authorization">Basic</a></td>
</tr>
</tbody></table>




<h2 id="client-side-methods">Client side methods</h2>



<h3 id="pin">PIN</h3>

<table>
<thead>
<tr>
  <th>Method</th>
  <th>Endpoint</th>
  <th>Usage</th>
  <th>Returns</th>
  <th>Authorization</th>
</tr>
</thead>
<tbody><tr>
  <td>POST</td>
  <td><a href="#send-a-pin">/1/pin</a></td>
  <td><a href="#send-a-pin">Send a PIN</a></td>
  <td><a href="#send-a-pin-response">sendPinResponse</a></td>
  <td><a href="#api-key-authorization">API key</a></td>
</tr>
<tr>
  <td>POST</td>
  <td><a href="#verify-a-pin">/1/pin/{pinId}/verify</a></td>
  <td><a href="#verify-a-pin">Verify a PIN</a></td>
  <td><a href="#verify-pin-response">verifyPinResponse</a></td>
  <td><a href="#api-key-authorization">API key</a></td>
</tr>
<tr>
  <td>POST</td>
  <td><a href="#resend-a-pin">/1/pin/{pinId}/resend</a></td>
  <td><a href="#resend-a-pin">Resend a PIN</a></td>
  <td><a href="#resend-pin-response">sendPinResponse</a></td>
  <td><a href="#api-key-authorization">API key</a></td>
</tr>
<tr>
  <td>GET</td>
  <td><a href="#get-pin-status">/1/pin/{pinId}/status</a></td>
  <td><a href="#get-pin-status">Get PIN status</a></td>
  <td><a href="#get-pin-status-response">getPinStatusResponse</a></td>
  <td><a href="#api-key-authorization">API key</a></td>
</tr>
</tbody></table>




<h3 id="verifications">Verifications</h3>

<table>
<thead>
<tr>
  <th>Method</th>
  <th>Endpoint</th>
  <th>Usage</th>
  <th>Returns</th>
  <th>Authorization</th>
</tr>
</thead>
<tbody><tr>
  <td>GET</td>
  <td><a href="#check-is-msisdn-verified">/1/applications/{applicationId}/verifications</a></td>
  <td><a href="#check-is-msisdn-verified">Check is MSISDN verified</a></td>
  <td><a href="#check-verification-status-response">verificationStatusObject</a></td>
  <td><a href="#api-key-authorization">API key</a></td>
</tr>
</tbody></table>




<h1 id="api-methods-usage">API methods usage</h1>



<h2 id="create-application">Create application</h2>

<p>This method allows you to create 2FA application.</p>

<p>For creating a 2FA application you should use the <code>HTTP POST</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/applications</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> <a href="#basic-authorization">Basic</a> + Base64(username:password).</td>
</tr>
<tr>
  <td align="left">Content-type</td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-body-parameters">Request body parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>name</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> 2FA application name.</td>
</tr>
<tr>
  <td align="left"><em>enabled</em></td>
  <td align="left">Boolean</td>
  <td align="left"><strong>Optional.</strong> Enabling or disabling 2FA application. <br><br> You can start 2-factor authentication process only if the 2FA application is enabled. Default value of this parameter is <strong>true</strong>.</td>
</tr>
<tr>
  <td align="left"><em>configuration</em></td>
  <td align="left"><a href="#applicationconfiguration">ApplicationConfiguration</a></td>
  <td align="left"><strong>Optional.</strong>  2FA application configuration object.</td>
</tr>
</tbody></table>




<h4 id="applicationconfiguration">ApplicationConfiguration</h4>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>pinTimeToLive</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> PIN time to live (in millis).<br><br><em>Default value:</em> 900.000 milliseconds (15 minutes)</td>
</tr>
<tr>
  <td align="left"><em>pinAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of possible PIN attempts.<br><br><em>Default value:</em> 10</td>
</tr>
<tr>
  <td align="left"><em>verificationAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of PIN verification requests from one phone number (MSISDN) in a defined verification time interval.<br><br><em>Default value:</em> 1</td>
</tr>
<tr>
  <td align="left"><em>verificationIntervalLength</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> Verification time interval (in millis).<br><br><em>Default value:</em> 3.000 milliseconds (3 seconds)</td>
</tr>
<tr>
  <td align="left"><em>initiationAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of requests for generating a PIN and sending an SMS to one phone number (MSISDN) in a defined time interval.<br><br><em>Default value:</em> 3</td>
</tr>
<tr>
  <td align="left"><em>initiationIntervalLength</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> Time interval in which a defined number of initiation attempts for one phone number (MSISDN) can be realized.<br><br><em>Default value:</em> 86.400.000 milliseconds (1 day)</td>
</tr>
</tbody></table>


<blockquote>
  <p><strong>Note:</strong> <br>
  Find out more about Application configuration details <a href="#application-configuration-details">here</a>.</p>
</blockquote>



<h3 id="response-format">Response format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain created <a href="#application-response-body-parameters">application object</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to create an application when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="application-response-body-parameters">Application response body parameters</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td>2FA application ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>2FA application name.</td>
</tr>
<tr>
  <td><em>enabled</em></td>
  <td>Boolean</td>
  <td>Indicates if the created application is enabled.</td>
</tr>
<tr>
  <td><em>processId</em></td>
  <td>String</td>
  <td>Process tracking ID. <br><br>You can track conversion rate across 2FA process using multiple parameters (find more information <a href="http://developer.infobip.com/api#!/ConversionRate" title="Conversion rates">here</a>).</td>
</tr>
<tr>
  <td><em>configuration</em></td>
  <td><a href="#applicationconfiguration">ApplicationConfiguration</a></td>
  <td>Created 2FA application configuration.</td>
</tr>
</tbody></table>


<p><br></p>

<blockquote>
  <p><strong>Note:</strong> <br>
  Find out more about Application configuration details <a href="#application-configuration-details">here</a>.</p>
</blockquote>



<h3 id="example">Example</h3>



<h4 id="basic-request-required-parameters-only">Basic request (required parameters only)</h4>

<p>The only required parameter is the <code>name</code> of the application. For a basic usage, you can just set the name of the app and the other parameters will be set to the <a href="#application-configuration-details">default values</a>.</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/2fa/1/applications</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"Test applicatio BASIC"</span>
</span>}</span></code></pre>



<h4 id="response">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"CD265875E3A6EA43478D5F37A635BE4A"</span></span>,
 "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Test application BASIC"</span></span>,
 "<span class="hljs-attribute">configuration</span>": <span class="hljs-value">{
  "<span class="hljs-attribute">pinTimeToLive</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
  "<span class="hljs-attribute">pinAttempts</span>": <span class="hljs-value"><span class="hljs-number">3</span></span>,
  "<span class="hljs-attribute">verificationAttempts</span>": <span class="hljs-value"><span class="hljs-number">2</span></span>,
  "<span class="hljs-attribute">verificationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
  "<span class="hljs-attribute">initiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
  "<span class="hljs-attribute">initiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
  "<span class="hljs-attribute">overallInitiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
  "<span class="hljs-attribute">overallInitiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">86400000</span></span>,
  "<span class="hljs-attribute">initiationThrottlingProlongationFactor</span>": <span class="hljs-value"><span class="hljs-number">1</span></span>,
  "<span class="hljs-attribute">initiationThrottlingWaitPeriod</span>": <span class="hljs-value"><span class="hljs-number">0</span>
 </span>}</span>,
 "<span class="hljs-attribute">enabled</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
 "<span class="hljs-attribute">processId</span>": <span class="hljs-value"><span class="hljs-string">"F3F887000261BC35CADFADCC947F7EF8"</span>
</span>}</code></pre>



<h4 id="advanced-request">Advanced Request</h4>

<p>Advanced usage example represent the request with all available parameters (required and optional).</p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/2fa/1/applications</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"Test application ADVANCED"</span></span>,
  "<span class="hljs-attribute">enabled</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
  "<span class="hljs-attribute">configuration</span>":<span class="hljs-value">{
    "<span class="hljs-attribute">pinTimeToLive</span>":<span class="hljs-value"><span class="hljs-number">2000000</span></span>,
    "<span class="hljs-attribute">pinAttempts</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
    "<span class="hljs-attribute">verificationAttempts</span>":<span class="hljs-value"><span class="hljs-number">3</span></span>,
    "<span class="hljs-attribute">verificationIntervalLength</span>":<span class="hljs-value"><span class="hljs-number">12000</span></span>,
    "<span class="hljs-attribute">initiationAttempts</span>":<span class="hljs-value"><span class="hljs-number">8</span></span>,
    "<span class="hljs-attribute">initiationIntervalLength</span>":<span class="hljs-value"><span class="hljs-number">1800000</span></span>,
    "<span class="hljs-attribute">overallInitiationAttempts</span>":<span class="hljs-value"><span class="hljs-number">10000</span></span>,
    "<span class="hljs-attribute">overallInitiationIntervalLength</span>":<span class="hljs-value"><span class="hljs-number">86400000</span>
  </span>}
</span>}</span></code></pre>



<h4 id="response-1">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"HJ675435E3A6EA43432G5F37A635KJ8B"</span></span>,
 "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Test application ADVANCED"</span></span>,
 "<span class="hljs-attribute">configuration</span>": <span class="hljs-value">{
  "<span class="hljs-attribute">pinTimeToLive</span>": <span class="hljs-value"><span class="hljs-number">2000000</span></span>,
  "<span class="hljs-attribute">pinAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
  "<span class="hljs-attribute">verificationAttempts</span>": <span class="hljs-value"><span class="hljs-number">3</span></span>,
  "<span class="hljs-attribute">verificationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">12000</span></span>,
  "<span class="hljs-attribute">initiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">8</span></span>,
  "<span class="hljs-attribute">initiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
  "<span class="hljs-attribute">overallInitiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
  "<span class="hljs-attribute">overallInitiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">86400000</span></span>,
  "<span class="hljs-attribute">initiationThrottlingProlongationFactor</span>": <span class="hljs-value"><span class="hljs-number">1</span></span>,
  "<span class="hljs-attribute">initiationThrottlingWaitPeriod</span>": <span class="hljs-value"><span class="hljs-number">0</span>
 </span>}</span>,
 "<span class="hljs-attribute">enabled</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
 "<span class="hljs-attribute">processId</span>": <span class="hljs-value"><span class="hljs-string">"F3F887000261BC35CADFADCC947F7EF8"</span>
</span>}</code></pre>



<h2 id="update-application">Update application</h2>

<p>This method allows you to update 2FA application that is already created.</p>

<p>For updating a 2FA application you should use the <code>HTTP PUT</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/applications/{applicationId}</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> <a href="#basic-authorization">Basic</a> + Base64(username:password).</td>
</tr>
<tr>
  <td align="left">Content-type</td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-path-parameters">Request path parameters</h3>

<table>
<thead>
<tr>
  <th>Parameters</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td><strong>Required.</strong> 2FA application ID that should be updated.</td>
</tr>
</tbody></table>




<h3 id="request-body-parameters-1">Request body parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>name</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Optional.</strong> 2FA application name.</td>
</tr>
<tr>
  <td align="left"><em>enabled</em></td>
  <td align="left">Boolean</td>
  <td align="left"><strong>Optional.</strong> Enabling or disabling 2FA application. <br><br> You can start 2-factor authentication process only if the 2FA application is enabled. Default value of this parameter is <strong>true</strong>.</td>
</tr>
<tr>
  <td align="left"><em>configuration</em></td>
  <td align="left"><a href="#applicationconfiguration-1">ApplicationConfiguration</a></td>
  <td align="left"><strong>Optional.</strong>  2FA application configuration object.</td>
</tr>
</tbody></table>




<h4 id="applicationconfiguration-1">ApplicationConfiguration</h4>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>pinTimeToLive</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> PIN time to live (in millis).<br><br><em>Default value:</em> 900.000 milliseconds (15 minutes)</td>
</tr>
<tr>
  <td align="left"><em>pinAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of possible PIN attempts.<br><br><em>Default value:</em> 10</td>
</tr>
<tr>
  <td align="left"><em>verificationAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of PIN verification requests from one phone number (MSISDN) in a defined verification time interval.<br><br><em>Default value:</em> 1</td>
</tr>
<tr>
  <td align="left"><em>verificationIntervalLength</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> Verification time interval (in millis).<br><br><em>Default value:</em> 3.000 milliseconds (3 seconds)</td>
</tr>
<tr>
  <td align="left"><em>initiationAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of requests for generating a PIN and sending an SMS to one phone number (MSISDN) in a defined time interval.<br><br><em>Default value:</em> 3</td>
</tr>
<tr>
  <td align="left"><em>initiationIntervalLength</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> Time interval in which a defined number of initiation attempts for one phone number (MSISDN) can be realized.<br><br><em>Default value:</em> 86.400.000 milliseconds (1 day)</td>
</tr>
</tbody></table>


<p><br></p>

<blockquote>
  <p><strong>Note:</strong> <br>
  Find out more about Application configuration details <a href="#application-configuration-details">here</a>.</p>
</blockquote>



<h3 id="response-format-1">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain updated <a href="#application-response-body-parameters">application object</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to update the application when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="response-body-parameters">Response body parameters</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td>2FA application ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>2FA application name.</td>
</tr>
<tr>
  <td><em>enabled</em></td>
  <td>Boolean</td>
  <td>Indicates if the created application is enabled.</td>
</tr>
<tr>
  <td><em>processId</em></td>
  <td>String</td>
  <td>Process tracking ID. <br><br>You can track conversion rate across 2FA process using multiple parameters (find more information <a href="http://developer.infobip.com/api#!/ConversionRate" title="Conversion rates">here</a>).</td>
</tr>
<tr>
  <td><em>configuration</em></td>
  <td><a href="#applicationconfiguration-1">ApplicationConfiguration</a></td>
  <td>Created 2FA application configuration.</td>
</tr>
</tbody></table>


<p><br></p>

<blockquote>
  <p><strong>Note:</strong> <br>
  Find out more about Application configuration details <a href="#application-configuration-details">here</a>.</p>
</blockquote>



<h3 id="example-1">Example</h3>



<h4 id="request">Request</h4>

<p>All body parameters are optional, so only provided parameters will be updated. </p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">PUT <span class="hljs-string">/2fa/1/applications/CD265875E3A6EA43478D5F37A635BE4A</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  "<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"New application name"</span></span>,
  "<span class="hljs-attribute">enabled</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
  "<span class="hljs-attribute">configuration</span>":<span class="hljs-value">{
    "<span class="hljs-attribute">pinAttempts</span>":<span class="hljs-value"><span class="hljs-number">5</span>
  </span>}
</span>}</span></code></pre>



<h4 id="response-2">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"CD265875E3A6EA43478D5F37A635BE4A"</span></span>,
 "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"New application name"</span></span>,
 "<span class="hljs-attribute">configuration</span>": <span class="hljs-value">{
  "<span class="hljs-attribute">pinTimeToLive</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
  "<span class="hljs-attribute">pinAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
  "<span class="hljs-attribute">verificationAttempts</span>": <span class="hljs-value"><span class="hljs-number">2</span></span>,
  "<span class="hljs-attribute">verificationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
  "<span class="hljs-attribute">initiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
  "<span class="hljs-attribute">initiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
  "<span class="hljs-attribute">overallInitiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
  "<span class="hljs-attribute">overallInitiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">86400000</span></span>,
  "<span class="hljs-attribute">initiationThrottlingProlongationFactor</span>": <span class="hljs-value"><span class="hljs-number">1</span></span>,
  "<span class="hljs-attribute">initiationThrottlingWaitPeriod</span>": <span class="hljs-value"><span class="hljs-number">0</span>
 </span>}</span>,
 "<span class="hljs-attribute">enabled</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
 "<span class="hljs-attribute">processId</span>": <span class="hljs-value"><span class="hljs-string">"F3F887000261BC35CADFADCC947F7EF8"</span>
</span>}</code></pre>



<h2 id="get-applications">Get application(s)</h2>

<p>This method allows you to get all 2FA applications for your account. Also, you can get just one 2FA application identified by <code>applicationId</code>.</p>

<p>For getting 2FA application(s) you should use the <code>HTTP GET</code> method and the base URL with following end point:</p>

<p><strong>End point for all applications:</strong> <code>/1/applications</code> <br>
<strong>End point for one application:</strong> <code>/1/applications/{applicationId}</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> <a href="#basic-authorization">Basic</a> + Base64(username:password).</td>
</tr>
<tr>
  <td align="left">Content-type</td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-path-parameters-1">Request path parameters</h3>

<table>
<thead>
<tr>
  <th>Parameters</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td>2FA application ID that you want to get.</td>
</tr>
</tbody></table>




<h3 id="response-format-2">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain received <a href="#application-response-body-parameters">application object</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to get the application(s) when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="response-body-parameters-1">Response body parameters</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td>2FA application ID.</td>
</tr>
<tr>
  <td><em>name</em></td>
  <td>String</td>
  <td>2FA application name.</td>
</tr>
<tr>
  <td><em>enabled</em></td>
  <td>Boolean</td>
  <td>Indicates if the created application is enabled.</td>
</tr>
<tr>
  <td><em>processId</em></td>
  <td>String</td>
  <td>Process tracking ID. <br><br>You can track conversion rate across 2FA process using multiple parameters (find more information <a href="http://developer.infobip.com/api#!/ConversionRate" title="Conversion rates">here</a>).</td>
</tr>
<tr>
  <td><em>configuration</em></td>
  <td><a href="#applicationconfiguration-2">ApplicationConfiguration</a></td>
  <td>Created 2FA application configuration.</td>
</tr>
</tbody></table>




<h5 id="applicationconfiguration-2">ApplicationConfiguration</h5>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>pinTimeToLive</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> PIN time to live (in millis).<br><br><em>Default value:</em> 900.000 milliseconds (15 minutes)</td>
</tr>
<tr>
  <td align="left"><em>pinAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of possible PIN attempts.<br><br><em>Default value:</em> 10</td>
</tr>
<tr>
  <td align="left"><em>verificationAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of PIN verification requests from one phone number (MSISDN) in a defined verification time interval.<br><br><em>Default value:</em> 1</td>
</tr>
<tr>
  <td align="left"><em>verificationIntervalLength</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> Verification time interval (in millis).<br><br><em>Default value:</em> 3.000 milliseconds (3 seconds)</td>
</tr>
<tr>
  <td align="left"><em>initiationAttempts</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> Number of requests for generating a PIN and sending an SMS to one phone number (MSISDN) in a defined time interval.<br><br><em>Default value:</em> 3</td>
</tr>
<tr>
  <td align="left"><em>initiationIntervalLength</em></td>
  <td align="left">Long</td>
  <td align="left"><strong>Optional.</strong> Time interval in which a defined number of initiation attempts for one phone number (MSISDN) can be realized.<br><br><em>Default value:</em> 86.400.000 milliseconds (1 day)</td>
</tr>
</tbody></table>


<p><br></p>

<blockquote>
  <p><strong>Note:</strong> <br>
  Find out more about Application configuration details <a href="#application-configuration-details">here</a>.</p>
</blockquote>



<h3 id="example-get-all-2fa-applications">Example: Get all 2FA applications</h3>



<h4 id="request-1">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/2fa/1/applications</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
</code></pre>



<h4 id="response-3">Response</h4>



<pre class="prettyprint"><code class=" hljs json">[
 {
  "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A9F4290821F1EE6BC06A"</span></span>,
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Test application 1"</span></span>,
  "<span class="hljs-attribute">processId</span>": <span class="hljs-value"><span class="hljs-string">"9C815F8AF33282A7C6D48F9FE5FA2B67"</span></span>,
  "<span class="hljs-attribute">enabled</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
  "<span class="hljs-attribute">configuration</span>": <span class="hljs-value">{
   "<span class="hljs-attribute">pinTimeToLive</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
   "<span class="hljs-attribute">pinAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
   "<span class="hljs-attribute">verificationAttempts</span>": <span class="hljs-value"><span class="hljs-number">2</span></span>,
   "<span class="hljs-attribute">verificationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
   "<span class="hljs-attribute">initiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
   "<span class="hljs-attribute">initiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
   "<span class="hljs-attribute">overallInitiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
   "<span class="hljs-attribute">overallInitiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">86400000</span>
  </span>}
 </span>},
 {
  "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"9C815F8AF33282A7C6D48F9FE5FA2B67"</span></span>,
  "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Test application 2"</span></span>,
  "<span class="hljs-attribute">processId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A9F4290821F1EE6BC06A"</span></span>,
  "<span class="hljs-attribute">enabled</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
  "<span class="hljs-attribute">configuration</span>": <span class="hljs-value">{
   "<span class="hljs-attribute">pinTimeToLive</span>": <span class="hljs-value"><span class="hljs-number">3200000</span></span>,
   "<span class="hljs-attribute">pinAttempts</span>": <span class="hljs-value"><span class="hljs-number">3</span></span>,
   "<span class="hljs-attribute">verificationAttempts</span>": <span class="hljs-value"><span class="hljs-number">4</span></span>,
   "<span class="hljs-attribute">verificationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
   "<span class="hljs-attribute">initiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
   "<span class="hljs-attribute">initiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">1000000</span></span>,
   "<span class="hljs-attribute">overallInitiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">50000</span></span>,
   "<span class="hljs-attribute">overallInitiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">864000000</span>
  </span>}
 </span>}
]</code></pre>



<h3 id="example-get-2fa-application-by-applicationid">Example - Get 2FA application by <code>applicationId</code></h3>



<h4 id="request-2">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/2fa/1/applications/8F0792F86035A9F4290821F1EE6BC06A</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre>



<h4 id="response-4">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
    "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A9F4290821F1EE6BC06A"</span></span>,
    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Test application 1"</span></span>,
    "<span class="hljs-attribute">processId</span>": <span class="hljs-value"><span class="hljs-string">"9C815F8AF33282A7C6D48F9FE5FA2B67"</span></span>,
    "<span class="hljs-attribute">enabled</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
    "<span class="hljs-attribute">configuration</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">pinTimeToLive</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
        "<span class="hljs-attribute">pinAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
        "<span class="hljs-attribute">verificationAttempts</span>": <span class="hljs-value"><span class="hljs-number">2</span></span>,
        "<span class="hljs-attribute">verificationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
        "<span class="hljs-attribute">initiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
        "<span class="hljs-attribute">initiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">1800000</span></span>,
        "<span class="hljs-attribute">overallInitiationAttempts</span>": <span class="hljs-value"><span class="hljs-number">10000</span></span>,
        "<span class="hljs-attribute">overallInitiationIntervalLength</span>": <span class="hljs-value"><span class="hljs-number">86400000</span>
    </span>}
</span>}</code></pre>



<h2 id="create-a-message">Create a message</h2>

<p>This method allows you to create 2FA message for specific application.</p>

<p>For creating a 2FA message you should use the <code>HTTP POST</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/applications/{applicationId}/messages</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> <a href="#basic-authorization">Basic</a> + Base64(username:password).</td>
</tr>
<tr>
  <td align="left">Content-type</td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-path-parameters-2">Request path parameters</h3>

<table>
<thead>
<tr>
  <th>Parameters</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td><strong>Required.</strong> 2FA application ID for which the message will be created.</td>
</tr>
</tbody></table>




<h3 id="request-body-parameters-2">Request body parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameters</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>pinType</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> Type of PIN code that will be generated and sent as part of 2FA message. <br><br>You can set PIN type to numeric, alpha, alphanumeric or hex so parameter must have one of these values:<br><br> 1. <strong>NUMERIC</strong><br> 2. <strong>ALPHA</strong><br>3. <strong>ALPHANUMERIC</strong><br>4. <strong>HEX</strong></td>
</tr>
<tr>
  <td align="left"><em>pinPlaceholder</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> PIN placeholder.<br><br>This value should be part of a message text and it will be replaced with generated PIN code.</td>
</tr>
<tr>
  <td align="left"><em>messageText</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> Text of a message that will be sent. <br><br>Message text should contain PIN placeholder.</td>
</tr>
<tr>
  <td align="left"><em>pinLength</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Required.</strong> PIN code length. <br><br>PIN code length should be between <strong>1</strong> and <strong>8</strong> characters.</td>
</tr>
<tr>
  <td align="left"><em>sender</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> The name that will appear as the sender of the 2FA message (<em>Example:</em> CompanyName).</td>
</tr>
</tbody></table>




<h3 id="response-format-3">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain created <a href="#create-a-message">message object</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to create a massage when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="message-response-body-parameters">Message response body parameters</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>2FA message ID.</td>
</tr>
<tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td>2FA application ID for which the message was created.</td>
</tr>
<tr>
  <td><em>pinPlaceholder</em></td>
  <td>String</td>
  <td>PIN code placeholder. Right before sending SMS, PIN code placeholder will be replaced with generated PIN code.</td>
</tr>
<tr>
  <td><em>messageText</em></td>
  <td>String</td>
  <td>Text of a message that will be sent.</td>
</tr>
<tr>
  <td><em>pinLength</em></td>
  <td>Integer</td>
  <td>PIN code length.</td>
</tr>
<tr>
  <td><em>pinType</em></td>
  <td>String</td>
  <td>Type of PIN code that will be generated and sent as part of 2FA message.</td>
</tr>
<tr>
  <td><em>sender</em></td>
  <td>String</td>
  <td>The name that will appear as the sender of the 2FA message (Example: CompanyName).</td>
</tr>
</tbody></table>




<h3 id="example-2">Example</h3>



<h4 id="request-3">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/2fa/1/applications/8F0792F86035A9F4290821F1EE6BC06A/messages</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  "<span class="hljs-attribute">pinType</span>":<span class="hljs-value"><span class="hljs-string">"NUMERIC"</span></span>,
  "<span class="hljs-attribute">pinPlaceholder</span>":<span class="hljs-value"><span class="hljs-string">"&lt;pin&gt;"</span></span>,
  "<span class="hljs-attribute">messageText</span>":<span class="hljs-value"><span class="hljs-string">"Your pin is &lt;pin&gt;"</span></span>,
  "<span class="hljs-attribute">pinLength</span>":<span class="hljs-value"><span class="hljs-number">4</span></span>,
  "<span class="hljs-attribute">sender</span>":<span class="hljs-value"><span class="hljs-string">"Infobip 2FA"</span>
</span>}</span></code></pre>



<h4 id="response-5">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">messageId</span>": <span class="hljs-value"><span class="hljs-string">"F66D67327326FCCB027BEAA916B94542"</span></span>,
 "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A9F4290821F1EE6BC06A"</span></span>,
 "<span class="hljs-attribute">pinPlaceholder</span>": <span class="hljs-value"><span class="hljs-string">"&lt;pin&gt;"</span></span>,
 "<span class="hljs-attribute">messageText</span>": <span class="hljs-value"><span class="hljs-string">"Your pin is &lt;pin&gt;"</span></span>,
 "<span class="hljs-attribute">pinLength</span>": <span class="hljs-value"><span class="hljs-number">4</span></span>,
 "<span class="hljs-attribute">pinType</span>": <span class="hljs-value"><span class="hljs-string">"NUMERIC"</span></span>,
 "<span class="hljs-attribute">sender</span>": <span class="hljs-value"><span class="hljs-string">"Infobip 2FA"</span>
</span>}</code></pre>



<h2 id="update-a-message">Update a message</h2>

<p>This method allows you to update 2FA message for specific application.</p>

<p>For updating a 2FA message you should use the <code>HTTP PUT</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/applications/{applicationId}/messages/{messageId}</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> <a href="#basic-authorization">Basic</a> + Base64(username:password).</td>
</tr>
<tr>
  <td align="left">Content-type</td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-path-parameters-3">Request path parameters</h3>

<table>
<thead>
<tr>
  <th>Parameters</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td><strong>Required.</strong> 2FA application ID for which the message will be updated.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td><strong>Required.</strong> Requested message ID.</td>
</tr>
</tbody></table>




<h3 id="request-body-parameters-3">Request body parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameters</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>pinType</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Optional.</strong> Type of PIN code that will be generated and sent as part of 2FA message. <br><br>You can set PIN type to numeric, alpha, alphanumeric or hex.</td>
</tr>
<tr>
  <td align="left"><em>pinPlaceholder</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Optional.</strong> PIN placeholder.<br><br>This value should be part of a message text and it will be replaced with generated PIN code.</td>
</tr>
<tr>
  <td align="left"><em>messageText</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Optional.</strong> Text of a message that will be sent. <br><br>Message text should contain PIN placeholder.</td>
</tr>
<tr>
  <td align="left"><em>pinLength</em></td>
  <td align="left">Integer</td>
  <td align="left"><strong>Optional.</strong> PIN code length. <br><br>PIN code length should be between <strong>1</strong> and <strong>8</strong> characters.</td>
</tr>
<tr>
  <td align="left"><em>sender</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Optional.</strong> The name that will appear as the sender of the 2FA message (<em>Example:</em> CompanyName).</td>
</tr>
</tbody></table>




<h3 id="response-format-4">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain updated <a href="#update-a-message">message object</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to update a massage when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="response-body-parameters-2">Response body parameters</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>2FA message ID.</td>
</tr>
<tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td>2FA application ID for which the message was created.</td>
</tr>
<tr>
  <td><em>pinPlaceholder</em></td>
  <td>String</td>
  <td>PIN code placeholder. Right before sending SMS, PIN code placeholder will be replaced with generated PIN code.</td>
</tr>
<tr>
  <td><em>messageText</em></td>
  <td>String</td>
  <td>Text of a message that will be sent.</td>
</tr>
<tr>
  <td><em>pinLength</em></td>
  <td>Integer</td>
  <td>PIN code length.</td>
</tr>
<tr>
  <td><em>pinType</em></td>
  <td>String</td>
  <td>Type of PIN code that will be generated and sent as part of 2FA message.</td>
</tr>
<tr>
  <td><em>sender</em></td>
  <td>String</td>
  <td>The name that will appear as the sender of the 2FA message (Example: CompanyName).</td>
</tr>
</tbody></table>




<h3 id="example-3">Example</h3>



<h4 id="request-4">Request</h4>

<p>All body parameters are optional, so only provided parameters will be updated. </p>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">PUT <span class="hljs-string">/2fa/1/applications/8F0792F86035A/messages/F66D67327326FCC</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  "<span class="hljs-attribute">pinType</span>":<span class="hljs-value"><span class="hljs-string">"ALPHANUMERIC"</span></span>,
  "<span class="hljs-attribute">pinLength</span>":<span class="hljs-value"><span class="hljs-number">6</span>
</span>}</span></code></pre>



<h4 id="response-6">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">messageId</span>": <span class="hljs-value"><span class="hljs-string">"F66D67327326FCC"</span></span>,
 "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A"</span></span>,
 "<span class="hljs-attribute">pinPlaceholder</span>": <span class="hljs-value"><span class="hljs-string">"&lt;pin&gt;"</span></span>,
 "<span class="hljs-attribute">messageText</span>": <span class="hljs-value"><span class="hljs-string">"Your pin is &lt;pin&gt;"</span></span>,
 "<span class="hljs-attribute">pinLength</span>": <span class="hljs-value"><span class="hljs-number">6</span></span>,
 "<span class="hljs-attribute">pinType</span>": <span class="hljs-value"><span class="hljs-string">"ALPHANUMERIC"</span></span>,
 "<span class="hljs-attribute">sender</span>": <span class="hljs-value"><span class="hljs-string">"Infobip 2FA"</span>
</span>}</code></pre>



<h2 id="get-messages">Get message(s)</h2>

<p>This method allows you to get all 2FA messages for specific application. Also, you can get just one 2FA message identified by <code>messageId</code>.</p>

<p>For getting 2FA message(s) you should use the <code>HTTP GET</code> method and the base URL with following end point:</p>

<p><strong>End point for all messages:</strong> <code>/1/applications/{applicationId}/messages</code> <br>
<strong>End point for one message:</strong> <code>/1/applications/{applicationId}/messages/{messageId}</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> <a href="#basic-authorization">Basic</a> + Base64(username:password).</td>
</tr>
<tr>
  <td align="left">Content-type</td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-path-parameter">Request path parameter</h3>

<table>
<thead>
<tr>
  <th>Parameters</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td>2FA application ID for which you want to get messages.</td>
</tr>
<tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>Message ID that you want to get.</td>
</tr>
</tbody></table>




<h3 id="response-format-5">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain received <a href="#get-message%28s%29">message object</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to update a massage when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="response-body-parameters-3">Response body parameters</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>2FA message ID.</td>
</tr>
<tr>
  <td><em>applicationId</em></td>
  <td>String</td>
  <td>2FA application ID for which the message was created.</td>
</tr>
<tr>
  <td><em>pinPlaceholder</em></td>
  <td>String</td>
  <td>PIN code placeholder. Right before sending SMS, PIN code placeholder will be replaced with generated PIN code.</td>
</tr>
<tr>
  <td><em>messageText</em></td>
  <td>String</td>
  <td>Text of a message that will be sent.</td>
</tr>
<tr>
  <td><em>pinLength</em></td>
  <td>Integer</td>
  <td>PIN code length.</td>
</tr>
<tr>
  <td><em>pinType</em></td>
  <td>String</td>
  <td>Type of PIN code that will be generated and sent as part of 2FA message.</td>
</tr>
<tr>
  <td><em>sender</em></td>
  <td>String</td>
  <td>The name that will appear as the sender of the 2FA message (Example: CompanyName).</td>
</tr>
</tbody></table>




<h3 id="example-get-all-messages-for-specific-application">Example - Get all messages for specific application</h3>



<h4 id="request-5">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/2fa/1/applications/8F0792F86035A/messages</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre>



<h4 id="response-7">Response</h4>



<pre class="prettyprint"><code class=" hljs json">[
 {
  "<span class="hljs-attribute">messageId</span>": <span class="hljs-value"><span class="hljs-string">"9C815F8AF3328"</span></span>,
  "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A"</span></span>,
  "<span class="hljs-attribute">pinPlaceholder</span>": <span class="hljs-value"><span class="hljs-string">"&lt;pin&gt;"</span></span>,
  "<span class="hljs-attribute">messageText</span>": <span class="hljs-value"><span class="hljs-string">"Your PIN is &lt;pin&gt;."</span></span>,
  "<span class="hljs-attribute">pinLength</span>": <span class="hljs-value"><span class="hljs-number">4</span></span>,
  "<span class="hljs-attribute">pinType</span>": <span class="hljs-value"><span class="hljs-string">"NUMERIC"</span>
 </span>},
 {
  "<span class="hljs-attribute">messageId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A"</span></span>,
  "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A"</span></span>,
  "<span class="hljs-attribute">pinPlaceholder</span>": <span class="hljs-value"><span class="hljs-string">"&lt;&lt;&gt;&gt;"</span></span>,
  "<span class="hljs-attribute">messageText</span>": <span class="hljs-value"><span class="hljs-string">"Your PIN is &lt;&lt;&gt;&gt;."</span></span>,
  "<span class="hljs-attribute">pinLength</span>": <span class="hljs-value"><span class="hljs-number">6</span></span>,
  "<span class="hljs-attribute">pinType</span>": <span class="hljs-value"><span class="hljs-string">"HEXA"</span>
 </span>}
]</code></pre>



<h3 id="example-get-one-message-by-applicationid-and-messageid">Example - Get one message by <code>applicationId</code> and <code>messageId</code></h3>



<h4 id="request-6">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/2fa/1/applications/8F0792F86035A/messages/F66D67327326FCC</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
</code></pre>



<h4 id="response-8">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">messageId</span>": <span class="hljs-value"><span class="hljs-string">"F66D67327326FCC"</span></span>,
 "<span class="hljs-attribute">applicationId</span>": <span class="hljs-value"><span class="hljs-string">"8F0792F86035A"</span></span>,
 "<span class="hljs-attribute">pinPlaceholder</span>": <span class="hljs-value"><span class="hljs-string">"&lt;pin&gt;"</span></span>,
 "<span class="hljs-attribute">messageText</span>": <span class="hljs-value"><span class="hljs-string">"Your pin is &lt;pin&gt;"</span></span>,
 "<span class="hljs-attribute">pinLength</span>": <span class="hljs-value"><span class="hljs-number">6</span></span>,
 "<span class="hljs-attribute">pinType</span>": <span class="hljs-value"><span class="hljs-string">"ALPHANUMERIC"</span></span>,
 "<span class="hljs-attribute">sender</span>": <span class="hljs-value"><span class="hljs-string">"Infobip 2FA"</span>
</span>}</code></pre>



<h2 id="generate-an-api-key">Generate an API key</h2>

<p>This method allows you to generate an API key your account. You have to be <a href="#api-key-authorization">authorized</a> over API key in order to use all <a href="#client-side-methods">Client side methods</a>:</p>

<ul>
<li><a href="#send-a-pin">Send a PIN</a></li>
<li><a href="#verify-a-pin">Verify a PIN</a></li>
<li><a href="#resend-a-pin">Resend a PIN</a></li>
<li><a href="#get-pin-status">Get PIN status</a></li>
<li><a href="#check-is-MSISDN-verified">Check is MSISDN verified</a></li>
</ul>

<p>For generating an API key you should use the <code>HTTP POST</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/api-key</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> <a href="#basic-authorization">Basic</a> + Base64(username:password).</td>
</tr>
<tr>
  <td align="left">Content-type</td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="response-format-6">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain created <a href="#api-key-authorization">API key</a>.</p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to generate an API key when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>api-key</em></td>
  <td>String</td>
  <td>API key used for authorization in <a href="#client-side-methods">Client side methods</a>.</td>
</tr>
</tbody></table>




<h3 id="example-4">Example</h3>



<h4 id="request-7">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/2fa/1/api-key</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic RkTpGSVR0lUdGVhbZWFt</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>
</code></pre>



<h4 id="response-9">Response</h4>



<pre class="prettyprint"><code class=" hljs bash"><span class="hljs-string">"003026bbc133714df1834b8638bb496e-8f4b3d9a-e931-478d-a994-28a725159ab9"</span></code></pre>



<h2 id="send-a-pin">Send a PIN</h2>

<p>This method allows you to generate and send a PIN over 2FA message to provided phone number.</p>

<p>For sending a PIN to provided phone number you should use the <code>HTTP POST</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/pin</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> A valid <a href="#api-key-authorization">API key</a> for your account. <br><br>If you donâ€™t have an API key, you can create one using a <a href="#api-key">Generate API key method</a>.  When you receive your API key, you should put it in the header after the authorization method and space i.e. <code>"App "</code>.</td>
</tr>
<tr>
  <td align="left"><em>Content-type</em></td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-query-parameters">Request query parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>ncNeeded</em></td>
  <td align="left">Boolean</td>
  <td align="left"><strong>Optional.</strong> Indicates if <a href="#number-context-in-2fa">Number Context</a> needed before sending 2FA message.<br><br> If <code>ncNeeded</code> value is <code>true</code>, Number Context will be sent before sending SMS. If <code>ncNeeded</code> value is <code>false</code>, SMS will be sent without sending Number Context. <br><strong>Default value:</strong> <code>true</code>.</td>
</tr>
</tbody></table>




<h3 id="request-body-parameters-4">Request body parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>applicationId</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> 2FA application ID.</td>
</tr>
<tr>
  <td align="left"><em>messageId</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> 2FA message that will be sent to a phone number (MSISDN).</td>
</tr>
<tr>
  <td align="left"><em>to</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> Phone number (MSISDN) to which 2FA message will be sent. Must be in international format (Example: 41793026727).</td>
</tr>
<tr>
  <td align="left"><em>from</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Optional.</strong> Sender ID in numeric or alphanumeric format. <br><br>If this parameter is not set, it will be automatically filled form the <a href="#create-a-message">created message</a> parameter <code>sender</code>.</td>
</tr>
</tbody></table>




<h3 id="response-format-7">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain <a href="#send-a-pin-response">sent PIN response</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to send a PIN when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="send-a-pin-response">Send a PIN response</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td>to</td>
  <td>String</td>
  <td>Phone number (MSISDN) to which 2FA message was sent.</td>
</tr>
<tr>
  <td>ncStatus</td>
  <td>String</td>
  <td>Status of sent Number Context. <br><br>Number Context status can have one of the following values:<br> <strong>NC_DESTINATION_UNKNOWN</strong> <br><strong>NC_DESTINATION_REACHABLE</strong> <br><strong>NC_DESTINATION_NOT_REACHABLE</strong><br><strong>NC_NOT_CONFIGURED</strong>. <br><br>If you get <code>NC_NOT_CONFIGURED</code> status, you should contact your account manager for configuring it. <br><br><strong>SMS will not be sent only if Number Context status is <code>NC_NOT_REACHABLE</code></strong>.</td>
</tr>
<tr>
  <td>smsStatus</td>
  <td>String</td>
  <td>Sent SMS status. <br><br>SMS status can have one of the following values: <br><strong>MESSAGE_SENT</strong><br><strong>MESSAGE_NOT_SENT</strong>.</td>
</tr>
<tr>
  <td>pinId</td>
  <td>String</td>
  <td>Sent PIN code ID.</td>
</tr>
</tbody></table>




<h3 id="example-5">Example</h3>



<h4 id="request-8">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/2fa/1/pin</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">App 003026bbc133714df1834b8638bb496e-8f4b3d9a-e931-478d-a994-28a725159ab9</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
  "<span class="hljs-attribute">applicationId</span>":<span class="hljs-value"><span class="hljs-string">"6D48F9FE5FA2B679C815F8AF33282A7C"</span></span>,
  "<span class="hljs-attribute">messageId</span>":<span class="hljs-value"><span class="hljs-string">"1036B771ACA7EC408772F93BC855D00A"</span></span>,
  "<span class="hljs-attribute">phoneNumber</span>":<span class="hljs-value"><span class="hljs-string">"41793026727"</span>
</span>}
</span></code></pre>



<h4 id="response-10">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">to</span>": <span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
 "<span class="hljs-attribute">ncStatus</span>": <span class="hljs-value"><span class="hljs-string">"NC_DESTINATION_REACHABLE"</span></span>,
 "<span class="hljs-attribute">smsStatus</span>": <span class="hljs-value"><span class="hljs-string">"MESSAGE_SENT"</span></span>,
 "<span class="hljs-attribute">pinId</span>": <span class="hljs-value"><span class="hljs-string">"9C817C6F8AF3D48F9FE553282AFA2B67"</span>
</span>}</code></pre>



<h2 id="verify-a-pin">Verify a PIN</h2>

<p>This method allows you to verify received PIN over 2FA message.</p>

<p>For verifying a received PIN you should use the <code>HTTP POST</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/pin/{pinId}/verify</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> A valid <a href="#api-key-authorization">API key</a> for your account. <br><br>If you donâ€™t have an API key, you can create one using a <a href="#api-key">Generate API key method</a>.  When you receive your API key, you should put it in the header after the authorization method and space i.e. <code>"App "</code>.</td>
</tr>
<tr>
  <td align="left"><em>Content-type</em></td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-path-parameters-4">Request path parameters</h3>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>pinId</em></td>
  <td>String</td>
  <td><strong>Required.</strong> ID of the PIN code that has to be verified.</td>
</tr>
</tbody></table>




<h3 id="request-body-parameters-5">Request body parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>pin</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Required.</strong> PIN code received by user.</td>
</tr>
</tbody></table>




<h3 id="response-format-8">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain <a href="#verify-pin-response">Verify PIN response</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to verify PIN when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="verify-pin-response">Verify PIN response</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>pinId</em></td>
  <td>String</td>
  <td>Sent PIN code ID.</td>
</tr>
<tr>
  <td><em>msisdn</em></td>
  <td>String</td>
  <td>Phone number (MSISDN) to which 2FA message was be sent.</td>
</tr>
<tr>
  <td><em>verified</em></td>
  <td>Boolean</td>
  <td>Indicates if the phone number (MSISDN) was successfully verified.</td>
</tr>
<tr>
  <td><em>attemptsRemaining</em></td>
  <td>Integer</td>
  <td>Number of remaining PIN attempts.</td>
</tr>
<tr>
  <td><em>pinError</em></td>
  <td>String</td>
  <td>Indicates if any error occurs during PIN verification. <br><br>PIN error can have one of the following values: <br><strong>WRONG_PIN</strong><br><strong>TTL_EXPIRED</strong><br><strong>NO_MORE_PIN_ATTEMPTS</strong></td>
</tr>
</tbody></table>




<h3 id="example-6">Example</h3>



<h4 id="request-9">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/2fa/1/pin/2B6792A7CFAC6D48F9AF3FE5328815F8/verify</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">App 003026bbc133714df1834b8638bb496e-8f4b3d9a-e931-478d-a994-28a725159ab9</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span>

<span class="json">{
 "<span class="hljs-attribute">pin</span>":<span class="hljs-value"><span class="hljs-string">"1598"</span>
</span>}
</span></code></pre>



<h4 id="response-correct-pin">Response - correct PIN</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">pinId</span>": <span class="hljs-value"><span class="hljs-string">"2B6792A7CFAC6D48F9AF3FE5328815F8"</span></span>,
 "<span class="hljs-attribute">msisdn</span>": <span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
 "<span class="hljs-attribute">verified</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
 "<span class="hljs-attribute">attemptsRemaining</span>": <span class="hljs-value"><span class="hljs-number">0</span>
</span>}</code></pre>



<h4 id="response-wrong-pin">Response - wrong PIN</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">pinId</span>": <span class="hljs-value"><span class="hljs-string">"2B6792A7CFAC6D48F9AF3FE5328815F8"</span></span>,
 "<span class="hljs-attribute">msisdn</span>": <span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
    "<span class="hljs-attribute">verified</span>": <span class="hljs-value"><span class="hljs-literal">false</span></span>,
    "<span class="hljs-attribute">attemptsRemaining</span>": <span class="hljs-value"><span class="hljs-number">2</span></span>,
    "<span class="hljs-attribute">pinError</span>": <span class="hljs-value"><span class="hljs-string">"WRONG_PIN"</span>
</span>}</code></pre>



<h2 id="resend-a-pin">Resend a PIN</h2>

<p>This method allows you to resend already created PIN.</p>

<p>For resending a PIN to provided phone number you should use the <code>HTTP POST</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/pin/{pinId}/resend</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> A valid <a href="#api-key-authorization">API key</a> for your account. <br><br>If you donâ€™t have an API key, you can create one using a <a href="#api-key">Generate API key method</a>.  When you receive your API key, you should put it in the header after the authorization method and space i.e. <code>"App "</code>.</td>
</tr>
<tr>
  <td align="left"><em>Content-type</em></td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-path-parameters-5">Request path parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>pinId</em></td>
  <td align="left">String</td>
  <td><strong>Required.</strong> ID of a PIN code that has to be resend.</td>
</tr>
</tbody></table>




<h3 id="response-format-9">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain <a href="#resend-pin-response">Send PIN response</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to resend a PIN when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="resend-pin-response">Resend PIN response</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td>to</td>
  <td>String</td>
  <td>Phone number (MSISDN) to which 2FA message was sent.</td>
</tr>
<tr>
  <td>ncStatus</td>
  <td>String</td>
  <td>Status of sent Number Context. <br><br>Number Context status can have one of the following values:<br> <strong>NC_DESTINATION_UNKNOWN</strong> <br><strong>NC_DESTINATION_REACHABLE</strong> <br><strong>NC_DESTINATION_NOT_REACHABLE</strong><br><strong>NC_NOT_CONFIGURED</strong>. <br><br>If you get <code>NC_NOT_CONFIGURED</code> status, you should contact your account manager for configuring it. <br><br><strong>SMS will not be sent only if Number Context status is <code>NC_NOT_REACHABLE</code></strong>.</td>
</tr>
<tr>
  <td>smsStatus</td>
  <td>String</td>
  <td>Sent SMS status. <br><br>SMS status can have one of the following values: <br><strong>MESSAGE_SENT</strong><br><strong>MESSAGE_NOT_SENT</strong>.</td>
</tr>
<tr>
  <td>pinId</td>
  <td>String</td>
  <td>Sent PIN code ID.</td>
</tr>
</tbody></table>




<h3 id="example-7">Example</h3>



<h4 id="request-10">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">POST <span class="hljs-string">/2fa/1/pin/2B6792A7CFAC6D48F9AF3FE5328815F8/resend</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">App 003026bbc133714df1834b8638bb496e-8f4b3d9a-e931-478d-a994-28a725159ab9</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre>



<h4 id="response-11">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
 "<span class="hljs-attribute">to</span>": <span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
 "<span class="hljs-attribute">ncStatus</span>": <span class="hljs-value"><span class="hljs-string">"NC_DESTINATION_REACHABLE"</span></span>,
 "<span class="hljs-attribute">smsStatus</span>": <span class="hljs-value"><span class="hljs-string">"MESSAGE_SENT"</span></span>,
 "<span class="hljs-attribute">pinId</span>": <span class="hljs-value"><span class="hljs-string">"9C817C6F8AF3D48F9FE553282AFA2B67"</span>
</span>}</code></pre>



<h2 id="get-pin-status">Get PIN status</h2>

<p>This method allows you to get delivery information about all sent 2FA messages for one PIN code.</p>

<p>For resending a PIN to provided phone number you should use the <code>HTTP POST</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/pin/{pinId}/status</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> A valid <a href="#api-key-authorization">API key</a> for your account. <br><br>If you donâ€™t have an API key, you can create one using a <a href="#api-key">Generate API key method</a>.  When you receive your API key, you should put it in the header after the authorization method and space i.e. <code>"App "</code>.</td>
</tr>
<tr>
  <td align="left"><em>Content-type</em></td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h4 id="request-path-parameters-6">Request path parameters</h4>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left">pinId</td>
  <td align="left">String</td>
  <td align="left">PIN code ID</td>
</tr>
</tbody></table>




<h3 id="response-format-10">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain <a href="#get-pin-status-response">Get PIN status response</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to get PIN status when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="get-pin-status-response">Get PIN status response</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>status</em></td>
  <td>String</td>
  <td>2FA message delivery status. <br><br>Status can have one of the following <a href="#status-list">values</a></td>
</tr>
<tr>
  <td><em>description</em></td>
  <td>String</td>
  <td>2FA message delivery status description.</td>
</tr>
<tr>
  <td><em>finalStatus</em></td>
  <td>String</td>
  <td>Indicates if 2FA message delivery status is final.</td>
</tr>
</tbody></table>




<h4 id="status-list">Status list</h4>

<table>
<thead>
<tr>
  <th align="left">Value</th>
  <th align="left">Description</th>
  <th align="left">FinalStatus</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><code>MESSAGE_ACCEPTED</code></td>
  <td align="left">Message accepted</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_NOT_SENT</code></td>
  <td align="left">Message not sent</td>
  <td align="left">false</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_NOT_DELIVERED</code></td>
  <td align="left">Message sent, not delivered</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_WAITING_DELIVERY</code></td>
  <td align="left">Message sent, waiting for delivery</td>
  <td align="left">false</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_DELIVERED</code></td>
  <td align="left">Message sent and delivered</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_NETWORK_NOT_ALLOWED</code></td>
  <td align="left">Message not sent, network not allowed</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_NETWORK_NOT_AVAILABLE</code></td>
  <td align="left">Message not sent, bulk or gateway offline</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_INVALID_DESTINATION_ADDRESS</code></td>
  <td align="left">Message not sent, invalid destination address</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_DELIVERY_UNKNOWN</code></td>
  <td align="left">Message delivery unknown</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>INVALID_SOURCE_ADDRESS</code></td>
  <td align="left">Message not sent, invalid source address</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>NOT_ENOUGH_CREDITS</code></td>
  <td align="left">Message not sent, not enough credits</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_REJECTED</code></td>
  <td align="left">Message rejected</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>MESSAGE_EXPIRED</code></td>
  <td align="left">Message expired</td>
  <td align="left">true</td>
</tr>
<tr>
  <td align="left"><code>SYSTEM_ERROR</code></td>
  <td align="left">System error</td>
  <td align="left">true</td>
</tr>
</tbody></table>




<h3 id="example-8">Example</h3>



<h4 id="request-11">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">/2fa/1/pin/2B6792A7CFAC6D48F9AF3FE5328815F8/status</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">App 003026bbc133714df1834b8638bb496e-8f4b3d9a-e931-478d-a994-28a725159ab9</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre>



<h4 id="response-12">Response</h4>



<pre class="prettyprint"><code class=" hljs json">[
 {
  "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"MESSAGE_DELIVERED"</span></span>,
  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Message sent and delivered"</span></span>,
  "<span class="hljs-attribute">finalStatus</span>": <span class="hljs-value"><span class="hljs-literal">true</span>
    </span>},
    {
  "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"MESSAGE_WAITING_DELIVERY"</span></span>,
  "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Message sent, waiting for delivery"</span></span>,
  "<span class="hljs-attribute">finalStatus</span>": <span class="hljs-value"><span class="hljs-literal">false</span>
    </span>}
]</code></pre>



<h2 id="check-is-msisdn-verified">Check is MSISDN verified</h2>

<p>This method allows you to check if the phone number (MSISDN) is verified for specific 2FA application .</p>

<p>For resending a PIN to provided phone number you should use the <code>HTTP POST</code> method and the base URL with following end point:</p>

<p><strong>End point:</strong> <code>/1/applications/{applicationId}/verifications</code> <br>
<br></p>

<table>
<thead>
<tr>
  <th align="left">Header field</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>Authorization</em></td>
  <td align="left"><strong>Required.</strong> A valid <a href="#api-key-authorization">API key</a> for your account. <br><br>If you donâ€™t have an API key, you can create one using a <a href="#api-key">Generate API key method</a>.  When you receive your API key, you should put it in the header after the authorization method and space i.e. <code>"App "</code>.</td>
</tr>
<tr>
  <td align="left"><em>Content-type</em></td>
  <td align="left"><strong>Required.</strong> The content type of the request body: <code>application/json</code></td>
</tr>
</tbody></table>




<h3 id="request-query-parameters-1">Request query parameters</h3>

<table>
<thead>
<tr>
  <th align="left">Parameter</th>
  <th align="left">Type</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left"><em>msisdn</em></td>
  <td align="left">String</td>
  <td align="left"><strong>Optional.</strong> Filter by phone number (MSISDN).</td>
</tr>
<tr>
  <td align="left"><em>verified</em></td>
  <td align="left">Boolean</td>
  <td align="left"><strong>Optional.</strong> Filter by verified (<strong>true</strong> or <strong>false</strong>).</td>
</tr>
<tr>
  <td align="left"><em>sent</em></td>
  <td align="left">Boolean</td>
  <td align="left"><strong>Optional.</strong> Filter by message sent status (<strong>true</strong> or <strong>false</strong>).</td>
</tr>
</tbody></table>




<h3 id="response-format-11">Response Format</h3>

<p>On success, response header HTTP status code will be <code>200 OK</code>  and the body will contain <a href="#check-verification-status-response">Check verification status response</a> in JSON format. </p>

<p>On error, you will receive an <a href="#response-status-codes">error response status code</a> in the header and the response body will contain an <a href="#error-object">error object</a>. If you try to check MSISDN verification status when you do not have the userâ€™s authorization, you will receive an error <code>401</code> Unauthorized.</p>



<h4 id="check-verification-status-response">Check verification status response</h4>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>msisdn</em></td>
  <td>String</td>
  <td>Phone number (MSISDN) for which verification status is checked.</td>
</tr>
<tr>
  <td><em>verified</em></td>
  <td>Boolean</td>
  <td>Indicates if the phone number (MSISDN) is already verified for 2FA application with given ID.</td>
</tr>
<tr>
  <td>verifiedAt</td>
  <td>Long</td>
  <td>Verification UNIX timestamp (in millis), if the phone number (MSISDN) is verified.</td>
</tr>
<tr>
  <td>sentAt</td>
  <td>Long</td>
  <td>Sent UNIX timestamp (in millis), if the phone number (MSISDN) is verified.</td>
</tr>
</tbody></table>




<h3 id="example-9">Example</h3>



<h4 id="request-12">Request</h4>



<pre class="prettyprint"><code class=" hljs http"><span class="hljs-request">GET <span class="hljs-string">https://oneapi.infobip.com/2fa/1/applications/{applicationId}/verified?msisdn="41793026727"</span> HTTP/1.1</span>
<span class="hljs-attribute">Host</span>: <span class="hljs-string">oneapi.infobip.com</span>
<span class="hljs-attribute">Authorization</span>: <span class="hljs-string">App 003026bbc133714df1834b8638bb496e-8f4b3d9a-e931-478d-a994-28a725159ab9</span>
<span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre>



<h4 id="response-13">Response</h4>



<pre class="prettyprint"><code class=" hljs json">[
 {
  "<span class="hljs-attribute">msisdn</span>": <span class="hljs-value"><span class="hljs-string">"41793026727"</span></span>,
  "<span class="hljs-attribute">verified</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
  "<span class="hljs-attribute">verifiedAt</span>": <span class="hljs-value"><span class="hljs-number">1418364366</span></span>,
  "<span class="hljs-attribute">sentAt</span>": <span class="hljs-value"><span class="hljs-number">1418364246</span>
    </span>}
]</code></pre>



<h1 id="response-status-codes">Response Status Codes</h1>

<table>
<thead>
<tr>
  <th align="left">Status Code</th>
  <th align="left">Description</th>
</tr>
</thead>
<tbody><tr>
  <td align="left">200</td>
  <td align="left"><strong>OK</strong> - The request has succeeded. The client can read the result of the request in the body and the headers of the response.</td>
</tr>
<tr>
  <td align="left">400</td>
  <td align="left"><strong>Bad Request</strong> - The request could not be understood by the server due to malformed syntax or invalid argument.</td>
</tr>
<tr>
  <td align="left">401</td>
  <td align="left"><strong>Unauthorized</strong> - The request requires user authentication or, if the request included authorization credentials, authorization has been refused for those credentials.</td>
</tr>
<tr>
  <td align="left">404</td>
  <td align="left"><strong>Not Found</strong> - The requested resource could not be found. This error can be due to a temporary or permanent condition.</td>
</tr>
<tr>
  <td align="left">429</td>
  <td align="left"><strong>Too Many Requests</strong> - Rate limiting has been applied.</td>
</tr>
<tr>
  <td align="left">500</td>
  <td align="left"><strong>Internal Server Error</strong>.</td>
</tr>
<tr>
  <td align="left">503</td>
  <td align="left"><strong>Service Unavailable</strong> - The server is currently unable to handle the request due to a temporary condition which will be alleviated after some delay. You can choose to resend the request again.</td>
</tr>
</tbody></table>




<h1 id="error-details">Error Details</h1>

<p><strong>Apart from the response code, unsuccessful responses return information about the error as an error JSON object:</strong></p>



<h2 id="error-object">Error object</h2>

<table>
<thead>
<tr>
  <th>Parameter</th>
  <th>Type</th>
  <th>Description</th>
</tr>
</thead>
<tbody><tr>
  <td><em>messageId</em></td>
  <td>String</td>
  <td>ID of an error</td>
</tr>
<tr>
  <td><em>text</em></td>
  <td>String</td>
  <td>A short description of the error.</td>
</tr>
</tbody></table>

<h2 id="error-example">Error example</h2>

<p><strong><em>Here, as an example, is the error that occurs when trying to send PIN with non-existent message:</em></strong></p>



<h4 id="request-13">Request</h4>



<pre class="prettyprint"><code class=" hljs lasso">    POST /<span class="hljs-number">2</span>fa/<span class="hljs-number">1</span>/pin HTTP/<span class="hljs-number">1.1</span>
    Host: oneapi<span class="hljs-built_in">.</span>infobip<span class="hljs-built_in">.</span>com
    Authorization: App <span class="hljs-number">003026</span>bbc133714df1834b8638bb496e<span class="hljs-subst">-</span><span class="hljs-number">8</span>f4b3d9a<span class="hljs-attribute">-e931</span><span class="hljs-subst">-</span><span class="hljs-number">478</span>d<span class="hljs-attribute">-a994</span><span class="hljs-subst">-</span><span class="hljs-number">28</span>a725159ab9
    Content<span class="hljs-attribute">-Type</span>: application/json

    {
      <span class="hljs-string">"applicationId"</span>:<span class="hljs-string">"E56D48F9FFA2B679C815F8AF33282A7C"</span>,
      <span class="hljs-string">"messageId"</span>:<span class="hljs-string">"CA71036B771AEC408772F93BC855D00A"</span>,
      <span class="hljs-string">"to"</span>:<span class="hljs-string">"385985555555"</span>
    }</code></pre>



<h4 id="response-14">Response</h4>



<pre class="prettyprint"><code class=" hljs json">{
    "<span class="hljs-attribute">requestError</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">serviceException</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">messageId</span>": <span class="hljs-value"><span class="hljs-string">"RESOURCE_NOT_FOUND"</span></span>,
            "<span class="hljs-attribute">text</span>": <span class="hljs-value"><span class="hljs-string">"Application or message with given ID cannot be found."</span>
        </span>}
    </span>}
</span>}</code></pre></div>
</body>
</html>